

{% include "hackanation/base.html" %}


<script src="https://npmcdn.com/masonry-layout@4.1/dist/masonry.pkgd.min.js"></script>

<div id="right">


  <div id="right-title-bg">
    <h1 id="right-title"><i>The most 
        <select id="dropper" onchange="jsFunction()">
          <option {% if page == "under-rated" %} selected="selected" {% endif %}>under-rated</option>
          <option {% if page == "loved" %} selected="selected" {% endif %}>loved</option>
          <option {% if page == "rewarded" %} selected="selected" {% endif %}>rewarded</option>
        </select>
        <i class="fa fa-blue fa-angle-down" aria-hidden="true"></i>
        prizes</i>
	</h2>

    <p style="font-weight:100;color:#999;font-size:12px;margin-top:-10px;">Explore data that has the least competiton, the most teams working on it or the largest prize</p>

    <div id="search-btn"><i class="fa fa-search" aria-hidden="true"></i></div>
  </div>


<h4 style="padding-left:50px;padding-bottom:0;margin-bottom:-10px;margin-top:30px;">Category: <span style="color:#3789B0">Everywhere<i class="fa fa-blue fa-angle-down" aria-hidden="true"></i></span></h4>
  <div id="right-content" class="grid">


{% if project_lis %}
    {% for project in project_lis %}
      <div  class="box grid-item {% if page == "rewarded" %} box-green{% endif %}">
        <div class="box-left">
          <p class="box-left-title">
          <a class="box-link" href="/prize?name={{ project.0.name }}" >{{ project.0.name|slice:":60" }}</a>
          </p>
          <p class="box-left-text">
	    {{ project.0.description |slice:":60"}}...
          </p>
        </div>
        <div class="box-head">
          <div class="box-head-txt">
            {% if page == "rewarded" %}${% endif %}{{ project.1 }}
          </div>
           {% if page != "rewarded" %}
          <div class="box-head-img">
            teams <i class="fa fa-users" aria-hidden="true"></i>
          </div>
          {% endif %}
        </div>
      </div>
    {% endfor %}
{% else %}
    <p>No prizes are available.</p>
{% endif %}
  </div>
</div>

<script>
    $('.grid').masonry({
      // options
      itemSelector: '.grid-item',
      columnWidth: 320
     });
</script>




<script>
$(document).ready(function(){

  $("#dropdown.subnav").parent().append("<span></span>"); //Only shows drop down trigger when js is enabled (Adds empty span tag after ul.subnav*)
  
  $("#dropdown").click(function() { //When trigger is clicked...
   alert("a"); 
    //Following events are applied to the subnav itself (moving subnav up and down)
    $("#dropdown.subnav").slideDown('fast').show(); //Drop down the subnav on click

    $(this).parent().hover(function() {
    }, function(){  
      $(this).parent().find("#dropdown.subnav").slideUp('slow'); //When the mouse hovers out of the subnav, move it back up
    });

    //Following events are applied to the trigger (Hover events for the trigger)
    }).hover(function() { 
      $(this).addClass("subhover"); //On hover over, add class "subhover"
    }, function(){  //On Hover Out
      $(this).removeClass("subhover"); //On hover out, remove class "subhover"
  });

});

function jsFunction() {
 var val = $("#dropper").val();
  if(val=="under-rated") {
    load("/under-rated-prizes");
  } else if(val=="loved") {
    load("/loved-prizes");
  } else if(val=="rewarded") {
    load("/rewarded-prizes");
  }
}
  $('#search-btn').click( function(ev){
      load("/search");
  });
</script>
